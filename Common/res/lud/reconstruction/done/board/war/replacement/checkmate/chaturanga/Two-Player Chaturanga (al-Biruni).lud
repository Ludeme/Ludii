(game "Two-Player Chaturanga (al-Biruni)"
    <Variant>
)

//------------------------------------------------------------------------------

(option "Variant" <Variant> args:{ <variant> }
    {
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 1)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                )
            )
            
            (piece "Queen" 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Elephant1" { "A1" "H1"}
                )
                
                (place "Rook1" { "B1" "G1"}
                )
                
                (place "Knight1" { "C1" "F1"}
                )
                
                (place "Queen1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Elephant2" { "A8" "H8"}
                )
                
                (place "Rook2" { "B8" "G8"}
                )
                
                (place "Knight2" { "C8" "F8"}
                )
                
                (place "Queen2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (= 
                        (count Pieces Next)
                    1)
                    
                    (result Mover Loss)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 1) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 2)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (moveAgain)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Win)
                )
                
                (if 
                    (<= 
                        (count Pieces Next)
                    1)
                    
                    (result Next Loss)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 2) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 3)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (moveAgain)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "BishopnoCross" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "BishopnoCross1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "BishopnoCross2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"D8")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (= 
                        (count Pieces Next)
                    1)
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Next)
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 3) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 4)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (add 
                    (add 
                        (remove 
                            (concentric { 0 0 0 16 16 16 16}
                            )
                            cells:{ 1}
                        )
                        edges:{ { 0 5}
                        { 0 9 }
                        { 0 13 }
                        { 1 0 }
                        }
                    )
                    cells:{ { 0 5 6 7 8 9}
                    { 0 9 10 11 12 13}
                    { 0 13 14 15 16 1}
                    { 0 1 2 3 4 5}
                    }
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step 
                        (if 
                            (= 
                                (state at:
                                    (from)
                                )
                            0)
                        CW CCW)
                        
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move 
                        (from)
                        
                        (to 
                            (sites Around 
                                (sites To 
                                    (move Step 
                                        (if 
                                            (= 
                                                (state at:
                                                    (from)
                                                )
                                            0)
                                        CW CCW )
                                        
                                        (to if:True)
                                    )
                                )
                            Orthogonal )
                            if:
                            (and 
                                (is Related Diagonal 
                                    (from)
                                    
                                    (to)
                                )
                                
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            0)
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                )
                            )
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Rotational 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (forEach Direction Orthogonal 
                    (to if:True 
                        (apply 
                            (forEach Direction 
                                (from 
                                    (to)
                                )
                                Diagonal 
                                (if 
                                    (and 
                                        (not 
                                            (is Friend 
                                                (who at:
                                                    (to)
                                                )
                                            )
                                        )
                                        
                                        (= 3 
                                            (count Steps Orthogonal 
                                                (from)
                                                
                                                (to)
                                            )
                                        )
                                    )
                                    
                                    (move 
                                        (from)
                                        
                                        (to 
                                            (apply if:
                                                (is Enemy 
                                                    (who at:
                                                        (to)
                                                    )
                                                )
                                                
                                                (remove 
                                                    (to)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            }
        )
        
        (rules 
            (start { 
                (place "Rook1" 
                    (sites { 52 53}
                    )
                )
                
                (place "Rook2" 
                    (sites { 61 60}
                    )
                )
                
                (place "Knight1" 
                    (sites { 36 37}
                    )
                )
                
                (place "Knight2" 
                    (sites { 44 45}
                    )
                )
                
                (place "Elephant1" 
                    (sites { 20 21}
                    )
                )
                
                (place "Elephant2" 
                    (sites { 28 29}
                    )
                )
                
                (place "Queen1" 4)
                
                (place "Queen2" 12)
                
                (place "KingnoCross1" 5)
                
                (place "KingnoCross2" 13)
                
                (place "Pawn1" 
                    (sites { 3 19 35 51}
                    )
                state:0)
                
                (place "Pawn1" 
                    (sites { 54 38 22 6}
                    )
                state:1)
                
                (place "Pawn2" 
                    (sites { 11 27 43 59}
                    )
                state:0)
                
                (place "Pawn2" 
                    (sites { 14 30 46 62}
                    )
                state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 4) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 5)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (remove 
                    (concentric { 0 0 0 16 16 16 16}
                    )
                    cells:{ 1 }
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step 
                        (if 
                            (= 
                                (state at:
                                    (from)
                                )
                            0)
                        CW CCW)
                        
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move 
                        (from)
                        
                        (to 
                            (sites Around 
                                (sites To 
                                    (move Step 
                                        (if 
                                            (= 
                                                (state at:
                                                    (from)
                                                )
                                            0)
                                        CW CCW )
                                        
                                        (to if:True)
                                    )
                                )
                            Orthogonal )
                            if:
                            (and 
                                (is Related Diagonal 
                                    (from)
                                    
                                    (to)
                                )
                                
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            0)
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                )
                            )
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Rotational 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (forEach Direction Orthogonal 
                    (to if:True 
                        (apply 
                            (forEach Direction 
                                (from 
                                    (to)
                                )
                                Diagonal 
                                (if 
                                    (and 
                                        (not 
                                            (is Friend 
                                                (who at:
                                                    (to)
                                                )
                                            )
                                        )
                                        
                                        (= 3 
                                            (count Steps Orthogonal 
                                                (from)
                                                
                                                (to)
                                            )
                                        )
                                    )
                                    
                                    (move 
                                        (from)
                                        
                                        (to 
                                            (apply if:
                                                (is Enemy 
                                                    (who at:
                                                        (to)
                                                    )
                                                )
                                                
                                                (remove 
                                                    (to)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            }
        )
        
        (rules 
            (start { 
                (place "Rook1" 
                    (sites { 52 53}
                    )
                )
                
                (place "Rook2" 
                    (sites { 61 60}
                    )
                )
                
                (place "Knight1" 
                    (sites { 36 37}
                    )
                )
                
                (place "Knight2" 
                    (sites { 44 45}
                    )
                )
                
                (place "Elephant1" 
                    (sites { 20 21}
                    )
                )
                
                (place "Elephant2" 
                    (sites { 28 29}
                    )
                )
                
                (place "Queen1" 4)
                
                (place "Queen2" 12)
                
                (place "KingnoCross1" 5)
                
                (place "KingnoCross2" 13)
                
                (place "Pawn1" 
                    (sites { 3 19 35 51}
                    )
                state:0)
                
                (place "Pawn1" 
                    (sites { 54 38 22 6}
                    )
                state:1)
                
                (place "Pawn2" 
                    (sites { 11 27 43 59}
                    )
                state:0)
                
                (place "Pawn2" 
                    (sites { 14 30 46 62}
                    )
                state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 5) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 6)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (add 
                    (add 
                        (remove 
                            (concentric { 0 0 0 16 16 16 16}
                            )
                            cells:{ 1}
                        )
                        edges:{ { 0 5}
                        { 0 9 }
                        { 0 13 }
                        { 1 0 }
                        }
                    )
                    cells:{ { 0 5 6 7 8 9}
                    { 0 9 10 11 12 13}
                    { 0 13 14 15 16 1}
                    { 0 1 2 3 4 5}
                    }
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step 
                        (if 
                            (= 
                                (state at:
                                    (from)
                                )
                            0)
                        CW CCW)
                        
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move 
                        (from)
                        
                        (to 
                            (sites Around 
                                (sites To 
                                    (move Step 
                                        (if 
                                            (= 
                                                (state at:
                                                    (from)
                                                )
                                            0)
                                        CW CCW )
                                        
                                        (to if:True)
                                    )
                                )
                            Orthogonal )
                            if:
                            (and 
                                (is Related Diagonal 
                                    (from)
                                    
                                    (to)
                                )
                                
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            0)
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                )
                            )
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Rotational 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (forEach Direction Orthogonal 
                    (to if:True 
                        (apply 
                            (forEach Direction 
                                (from 
                                    (to)
                                )
                                Diagonal 
                                (if 
                                    (and 
                                        (not 
                                            (is Friend 
                                                (who at:
                                                    (to)
                                                )
                                            )
                                        )
                                        
                                        (= 3 
                                            (count Steps Orthogonal 
                                                (from)
                                                
                                                (to)
                                            )
                                        )
                                    )
                                    
                                    (move 
                                        (from)
                                        
                                        (to 
                                            (apply if:
                                                (is Enemy 
                                                    (who at:
                                                        (to)
                                                    )
                                                )
                                                
                                                (remove 
                                                    (to)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            }
        )
        
        (rules 
            (start { 
                (place "Rook1" 
                    (sites { 4 5}
                    )
                )
                
                (place "Rook2" 
                    (sites { 13 12}
                    )
                )
                
                (place "Knight1" 
                    (sites { 20 21}
                    )
                )
                
                (place "Knight2" 
                    (sites { 29 28}
                    )
                )
                
                (place "Elephant1" 
                    (sites { 36 37}
                    )
                )
                
                (place "Elephant2" 
                    (sites { 45 44}
                    )
                )
                
                (place "Queen1" 52)
                
                (place "Queen2" 60)
                
                (place "KingnoCross1" 53)
                
                (place "KingnoCross2" 61)
                
                (place "Pawn1" 
                    (sites { 3 19 35 51}
                    )
                state:0)
                
                (place "Pawn1" 
                    (sites { 54 38 22 6}
                    )
                state:1)
                
                (place "Pawn2" 
                    (sites { 11 27 43 59}
                    )
                state:0)
                
                (place "Pawn2" 
                    (sites { 14 30 46 62}
                    )
                state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (is In 
                        (where "KingnoCross" Mover)
                        
                        (sites { 64 65 66 67}
                        )
                    )
                    
                    (result Mover Draw)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 6) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 7)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (remove 
                    (concentric { 0 0 0 16 16 16 16}
                    )
                    cells:{ 1 }
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step 
                        (if 
                            (= 
                                (state at:
                                    (from)
                                )
                            0)
                        CW CCW)
                        
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move 
                        (from)
                        
                        (to 
                            (sites Around 
                                (sites To 
                                    (move Step 
                                        (if 
                                            (= 
                                                (state at:
                                                    (from)
                                                )
                                            0)
                                        CW CCW )
                                        
                                        (to if:True)
                                    )
                                )
                            Orthogonal )
                            if:
                            (and 
                                (is Related Diagonal 
                                    (from)
                                    
                                    (to)
                                )
                                
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            0)
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CW)
                                    )
                                )
                            )
                            
                            (if 
                                (= 
                                    (what at:
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                    
                                    (id "Pawn" Next)
                                )
                                
                                (and 
                                    (remove 
                                        (last To)
                                    )
                                    
                                    (remove 
                                        (ahead 
                                            (last To)
                                        CCW)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Rotational 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (forEach Direction Orthogonal 
                    (to if:True 
                        (apply 
                            (forEach Direction 
                                (from 
                                    (to)
                                )
                                Diagonal 
                                (if 
                                    (and 
                                        (not 
                                            (is Friend 
                                                (who at:
                                                    (to)
                                                )
                                            )
                                        )
                                        
                                        (= 3 
                                            (count Steps Orthogonal 
                                                (from)
                                                
                                                (to)
                                            )
                                        )
                                    )
                                    
                                    (move 
                                        (from)
                                        
                                        (to 
                                            (apply if:
                                                (is Enemy 
                                                    (who at:
                                                        (to)
                                                    )
                                                )
                                                
                                                (remove 
                                                    (to)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            }
        )
        
        (rules 
            (start { 
                (place "Rook1" 
                    (sites { 4 5}
                    )
                )
                
                (place "Rook2" 
                    (sites { 13 12}
                    )
                )
                
                (place "Knight1" 
                    (sites { 20 21}
                    )
                )
                
                (place "Knight2" 
                    (sites { 29 28}
                    )
                )
                
                (place "Elephant1" 
                    (sites { 36 37}
                    )
                )
                
                (place "Elephant2" 
                    (sites { 45 44}
                    )
                )
                
                (place "Queen1" 52)
                
                (place "Queen2" 60)
                
                (place "KingnoCross1" 53)
                
                (place "KingnoCross2" 61)
                
                (place "Pawn1" 
                    (sites { 3 19 35 51}
                    )
                state:0)
                
                (place "Pawn1" 
                    (sites { 54 38 22 6}
                    )
                state:1)
                
                (place "Pawn2" 
                    (sites { 11 27 43 59}
                    )
                state:0)
                
                (place "Pawn2" 
                    (sites { 14 30 46 62}
                    )
                state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (is In 
                        (where "KingnoCross" Mover)
                        
                        (sites { 64 65 66 67}
                        )
                    )
                    
                    (result Mover Draw)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 7) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 8)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (rectangle 16 4)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "Queen")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            
            (dice d:6 from:1 num:1)
            }
        )
        
        (rules 
            (start { 
                (place "Rook1" 
                    (sites { 4 5}
                    )
                )
                
                (place "Rook2" 
                    (sites { 13 12}
                    )
                )
                
                (place "Knight1" 
                    (sites { 20 21}
                    )
                )
                
                (place "Knight2" 
                    (sites { 29 28}
                    )
                )
                
                (place "Elephant1" 
                    (sites { 36 37}
                    )
                )
                
                (place "Elephant2" 
                    (sites { 45 44}
                    )
                )
                
                (place "Queen1" 52)
                
                (place "Queen2" 60)
                
                (place "KingnoCross1" 53)
                
                (place "KingnoCross2" 61)
                
                (place "Pawn1" 
                    (sites { 3 19 35 51}
                    )
                state:0)
                
                (place "Pawn1" 
                    (sites { 54 38 22 6}
                    )
                state:1)
                
                (place "Pawn2" 
                    (sites { 11 27 43 59}
                    )
                state:0)
                
                (place "Pawn2" 
                    (sites { 14 30 46 62}
                    )
                state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (is In 
                        (where "KingnoCross" Mover)
                        
                        (sites { 64 65 66 67}
                        )
                    )
                    
                    (result Mover Draw)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 8) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 9)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (rectangle 10 9)
            use:Vertex)
            
            (piece "Jiang" Each 
                (move Step Orthogonal 
                    (to if:
                        (and 
                            (is In 
                                (to)
                                
                                (sites Mover "Palace")
                            )
                            
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Shi" Each 
                (move Step Diagonal 
                    (to if:
                        (and 
                            (is In 
                                (to)
                                
                                (sites Mover "Palace")
                            )
                            
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Xiang" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Ma" Each 
                (forEach Direction Orthogonal 
                    (to if:
                        (is Empty 
                            (to)
                        )
                        
                        (apply 
                            (forEach Direction 
                                (from 
                                    (to)
                                )
                                
                                (directions { FR FL }
                                of:All)
                                
                                (if 
                                    (not 
                                        (is Friend 
                                            (who at:
                                                (to)
                                            )
                                        )
                                    )
                                    
                                    (move 
                                        (from)
                                        
                                        (to 
                                            (apply if:
                                                (is Enemy 
                                                    (who at:
                                                        (to)
                                                    )
                                                )
                                                
                                                (remove 
                                                    (to)
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Ju" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pao" Each 
                (or 
                    (move Slide Orthogonal)
                    
                    (move Hop Orthogonal 
                        (between before:
                            (count Rows)
                            after:
                            (count Rows)
                            if:
                            (is Occupied 
                                (between)
                            )
                        )
                        
                        (to if:
                            (is Empty 
                                (to)
                            )
                            
                            (apply if:
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Zu" Each 
                (move Step 
                    (if 
                        (is In 
                            (from)
                            
                            (sites Mover "Home")
                        )
                        Forward 
                        (directions { Forward Rightward Leftward }
                        )
                    )
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "PalaceP1" P1 { 3 4 5 12 13 14 21 22 23}
            )
            
            (regions "PalaceP2" P2 { 66 67 68 75 76 77 84 85 86}
            )
            
            (regions "Home" P1 
                (expand 
                    (sites Bottom)
                steps:4)
            )
            
            (regions "Home" P2 
                (expand 
                    (sites Top)
                steps:4)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Jiang1" coord:"E1")
                
                (place "Shi1" { "D1" "F1"}
                )
                
                (place "Xiang1" { "C1" "G1"}
                )
                
                (place "Ma1" { "B1" "H1"}
                )
                
                (place "Ju1" { "A1" "I1"}
                )
                
                (place "Pao1" { "B3" "H3"}
                )
                
                (place "Zu1" { "A4" "C4" "E4" "G4" "I4"}
                )
                
                (place "Jiang2" coord:"E10")
                
                (place "Shi2" { "D10" "F10"}
                )
                
                (place "Xiang2" { "C10" "G10"}
                )
                
                (place "Ma2" { "B10" "H10"}
                )
                
                (place "Ju2" { "A10" "I10"}
                )
                
                (place "Pao2" { "B8" "H8"}
                )
                
                (place "Zu2" { "A7" "C7" "E7" "G7" "I7"}
                )
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (and 
                        (if 
                            (= 
                                (column of:
                                    (where "Jiang" P1)
                                )
                                
                                (column of:
                                    (where "Jiang" P2)
                                )
                            )
                            
                            (not 
                                (= 
                                    (count Sites in:
                                        (forEach 
                                            (sites Direction from:
                                                (where "Jiang" P1)
                                                N stop:
                                                (= 
                                                    (to)
                                                    
                                                    (where "Jiang" P2)
                                                )
                                            )
                                            if:
                                            (is Occupied 
                                                (site)
                                            )
                                        )
                                    )
                                0 )
                            )
                        True )
                        
                        (not 
                            (is Threatened 
                                (id "Jiang" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "Jiang" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "Jiang" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Next)
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 9) ruleset.")
    
    (item "Two-Player Chaturanga (al-Biruni) (Ludii 10)" <
        
        (players { 
            (player N)
            
            (player S)
            }
        )
        
        (equipment { 
            (board 
                (rectangle 16 4)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Step 
                    (directions {Forward FR FL BR BL})
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "Queen")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            
            (dice d:6 from:1 num:1)
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (union 
                        (sites Row 4)
                        
                        (sites Row 5)
                    )
                )
                
                (place "Pawn2" 
                    (union 
                        (sites Row 10)
                        
                        (sites Row 11)
                    )
                )
                
                (place "Elephant1" 
                    (sites { "A1" "D1"}
                    )
                )
                
                (place "Knight1" 
                    (sites { "B2" "C2"}
                    )
                )
                
                (place "Rook1" 
                    (sites { "A2" "D2"}
                    )
                )
                
                (place "KingnoCross1" coord:"B1")
                
                (place "Queen1" coord:"C1")
                
                (place "Elephant2" 
                    (sites { "A16" "D16"}
                    )
                )
                
                (place "Knight2" 
                    (sites { "B15" "C15"}
                    )
                )
                
                (place "Rook2" 
                    (sites { "A15" "D15"}
                    )
                )
                
                (place "KingnoCross2" coord:"C16")
                
                (place "Queen2" coord:"B16")
                }
            )
            
            (play 
                (do 
                    (do 
                        (roll)
                        next:
                        (if 
                            (is Threatened 
                                (id "KingnoCross" Next)
                                
                                (forEach Piece)
                            )
                            
                            (move Pass 
                                (then 
                                    (trigger "NextCanNotEscape" 
                                        (next)
                                    )
                                )
                            )
                            
                            (if 
                                (= 
                                    (count Pips)
                                6)
                                
                                (forEach Piece "KingnoCross")
                                
                                (if 
                                    (= 
                                        (count Pips)
                                    5)
                                    
                                    (forEach Piece "Queen")
                                    
                                    (if 
                                        (= 
                                            (count Pips)
                                        4)
                                        
                                        (forEach Piece "Elephant")
                                        
                                        (if 
                                            (= 
                                                (count Pips)
                                            3)
                                            
                                            (forEach Piece "Knight")
                                            
                                            (if 
                                                (= 
                                                    (count Pips)
                                                2)
                                                
                                                (forEach Piece "Rook")
                                                
                                                (forEach Piece "Pawn")
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                            
                            (forEach Piece Next)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (is Triggered "CanNotEscape" Next)
                    
                    (result Mover Win)
                )
                
                (if 
                    (not 
                        (can Move 
                            (forEach Piece Next)
                        )
                    )
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chaturanga (al-Biruni) (Ludii 10) ruleset.")
    
    (item "Incomplete"
        <
        ("TwoPlayersNorthSouth")
        (equipment [#]) // The Elephant moves forward one space or diagonally forward or backward.
        (rules [#])
        >
        "The incomplete ruleset."
    )
    
})

//------------------------------------------------------------------------------

(rulesets {
    
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 1) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 1)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 2) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 2)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 3) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 3)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 4) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 4)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 5) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 5)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 6) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 6)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 7) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 7)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 8) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 8)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 9) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 9)"
    })
    (ruleset "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 10) (Reconstructed)" {
        "Variant/Two-Player Chaturanga (al-Biruni) (Ludii 10)"
    }) 
    
    (ruleset "Ruleset/Historical Information (Incomplete)" {
        "Variant/Incomplete"
    })
    
})

//------------------------------------------------------------------------------

(metadata 
    
    (info
        {
        (description "This version of Chatuanga was described by al-Biruni, a Persian scholar who described Chaturanga in India during the tenth century CE.")
        (useFor "Ruleset/Historical Information (Incomplete)" (rules " The Elephant moves forward one space or diagonally forward or backward. "))
        (useFor "Ruleset/Historical Information (Incomplete)" (source "DLP evidence."))
        (useFor "Ruleset/Historical Information (Incomplete)" (id "1441"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 1) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, Rooks, Elephants, Knights, Pawns and Queens.
                Rules for Pieces:
                Elephants hop orthogonal.
                KingnoCrosses remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Elephant for player one on sites: A1 and H1.
                Place a Rook for player one on sites: B1 and G1.
                Place a Knight for player one on sites: C1 and F1.
                Place a Queen for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Elephant for player two on sites: A8 and H8.
                Place a Rook for player two on sites: B8 and G8.
                Place a Knight for player two on sites: C8 and F8.
                Place a Queen for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the number of pieces owned by Player the next player is equal to 1, the moving player loses.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 1) (Reconstructed)" (id "4076"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 2) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Pawns, Rooks, KingnoCrosses, Elephants, Knights and FerznoCrosses.
                Rules for Pieces:
                Elephants hop orthogonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, move again.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player wins If the number of pieces owned by Player the next player is less than or equal to 1, the next player loses.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 2) (Reconstructed)" (id "4077"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 3) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Pawns, Rooks, KingnoCrosses, BishopnoCrosses, Knights and FerznoCrosses.
                Rules for Pieces:
                BishopnoCrosses hop diagonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, move again.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a BishopnoCross for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a BishopnoCross for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site D8.
                Place a KingnoCross for player two on site E8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the number of pieces owned by Player the next player is equal to 1, the moving player wins If the next player cannot move, the moving player wins.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 3) (Reconstructed)" (id "4078"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 4) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a noshape board with nobasis tiling. 
                All players play with Pawns, Rooks, Knights, Elephants, Queens and KingnoCrosses.
                Rules for Pieces:
                Elephants from cell in the location of the piece to cell in the number of sites within 1 spaces of the number of sites within 1 spaces of the location of the piece includeOrigin: false includeOrigin: false moveRule: not is a friend and 2 is less than the number of Orthogonal step moves from Cell the location of the piece to to captureRule: there is an enemy Player at to captureEffect: remove pieces at to.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights if not is a friend and 3 is equal to the number of Orthogonal step moves from Cell the location of the piece to to, from cell in the location of the piece to cell to moveRule: true captureRule: there is an enemy Player at to captureEffect: remove pieces at to, for all sites that can be reached from cell to in the direction diagonal, for all sites that can be reached from cell the location of the piece in the direction orthogonal.
                Pawns step if State at the location of the piece is equal to 0 then cw else ccw or from cell in the location of the piece to cell in the number of sites within 1 spaces of the to sites of step if State at the location of the piece is equal to 0 then cw else ccw includeOrigin: false moveRule: cell the location of the piece is Diagonal to any site in to and there is an enemy Player at to if State at the to location of the last move is equal to 0, if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction cw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction cw, else if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction ccw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction ccw.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the rotational direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Rook for player one at sites [52,53].
                Place a Rook for player two at sites [61,60].
                Place a Knight for player one at sites [36,37].
                Place a Knight for player two at sites [44,45].
                Place a Elephant for player one at sites [20,21].
                Place a Elephant for player two at sites [28,29].
                Place a Pawn for player one at sites [3,19,35,51].
                Place a Pawn for player one at sites [54,38,22,6].
                Place a Pawn for player two at sites [11,27,43,59].
                Place a Pawn for player two at sites [14,30,46,62]..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 4) (Reconstructed)" (id "4079"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 5) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a noshape board. 
                All players play with Pawns, Rooks, Knights, Elephants, Queens and KingnoCrosses.
                Rules for Pieces:
                Elephants from cell in the location of the piece to cell in the number of sites within 1 spaces of the number of sites within 1 spaces of the location of the piece includeOrigin: false includeOrigin: false moveRule: not is a friend and 2 is less than the number of Orthogonal step moves from Cell the location of the piece to to captureRule: there is an enemy Player at to captureEffect: remove pieces at to.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights if not is a friend and 3 is equal to the number of Orthogonal step moves from Cell the location of the piece to to, from cell in the location of the piece to cell to moveRule: true captureRule: there is an enemy Player at to captureEffect: remove pieces at to, for all sites that can be reached from cell to in the direction diagonal, for all sites that can be reached from cell the location of the piece in the direction orthogonal.
                Pawns step if State at the location of the piece is equal to 0 then cw else ccw or from cell in the location of the piece to cell in the number of sites within 1 spaces of the to sites of step if State at the location of the piece is equal to 0 then cw else ccw includeOrigin: false moveRule: cell the location of the piece is Diagonal to any site in to and there is an enemy Player at to if State at the to location of the last move is equal to 0, if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction cw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction cw, else if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction ccw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction ccw.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the rotational direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Rook for player one at sites [52,53].
                Place a Rook for player two at sites [61,60].
                Place a Knight for player one at sites [36,37].
                Place a Knight for player two at sites [44,45].
                Place a Elephant for player one at sites [20,21].
                Place a Elephant for player two at sites [28,29].
                Place a Pawn for player one at sites [3,19,35,51].
                Place a Pawn for player one at sites [54,38,22,6].
                Place a Pawn for player two at sites [11,27,43,59].
                Place a Pawn for player two at sites [14,30,46,62]..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 5) (Reconstructed)" (id "4080"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 6) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a noshape board with nobasis tiling. 
                All players play with Pawns, Rooks, Knights, Elephants, Queens and KingnoCrosses.
                Rules for Pieces:
                Elephants from cell in the location of the piece to cell in the number of sites within 1 spaces of the number of sites within 1 spaces of the location of the piece includeOrigin: false includeOrigin: false moveRule: not is a friend and 2 is less than the number of Orthogonal step moves from Cell the location of the piece to to captureRule: there is an enemy Player at to captureEffect: remove pieces at to.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights if not is a friend and 3 is equal to the number of Orthogonal step moves from Cell the location of the piece to to, from cell in the location of the piece to cell to moveRule: true captureRule: there is an enemy Player at to captureEffect: remove pieces at to, for all sites that can be reached from cell to in the direction diagonal, for all sites that can be reached from cell the location of the piece in the direction orthogonal.
                Pawns step if State at the location of the piece is equal to 0 then cw else ccw or from cell in the location of the piece to cell in the number of sites within 1 spaces of the to sites of step if State at the location of the piece is equal to 0 then cw else ccw includeOrigin: false moveRule: cell the location of the piece is Diagonal to any site in to and there is an enemy Player at to if State at the to location of the last move is equal to 0, if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction cw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction cw, else if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction ccw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction ccw.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the rotational direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Rook for player one at sites [4,5].
                Place a Rook for player two at sites [13,12].
                Place a Knight for player one at sites [20,21].
                Place a Knight for player two at sites [29,28].
                Place a Elephant for player one at sites [36,37].
                Place a Elephant for player two at sites [45,44].
                Place a Pawn for player one at sites [3,19,35,51].
                Place a Pawn for player one at sites [54,38,22,6].
                Place a Pawn for player two at sites [11,27,43,59].
                Place a Pawn for player two at sites [14,30,46,62]..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If KingnoCross of the moving player is in is in sites [64,65,66,67], it's a draw.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 6) (Reconstructed)" (id "4081"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 7) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a noshape board. 
                All players play with Pawns, Rooks, Knights, Elephants, Queens and KingnoCrosses.
                Rules for Pieces:
                Elephants from cell in the location of the piece to cell in the number of sites within 1 spaces of the number of sites within 1 spaces of the location of the piece includeOrigin: false includeOrigin: false moveRule: not is a friend and 2 is less than the number of Orthogonal step moves from Cell the location of the piece to to captureRule: there is an enemy Player at to captureEffect: remove pieces at to.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights if not is a friend and 3 is equal to the number of Orthogonal step moves from Cell the location of the piece to to, from cell in the location of the piece to cell to moveRule: true captureRule: there is an enemy Player at to captureEffect: remove pieces at to, for all sites that can be reached from cell to in the direction diagonal, for all sites that can be reached from cell the location of the piece in the direction orthogonal.
                Pawns step if State at the location of the piece is equal to 0 then cw else ccw or from cell in the location of the piece to cell in the number of sites within 1 spaces of the to sites of step if State at the location of the piece is equal to 0 then cw else ccw includeOrigin: false moveRule: cell the location of the piece is Diagonal to any site in to and there is an enemy Player at to if State at the to location of the last move is equal to 0, if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction cw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction cw, else if Piece at  the Cell 1 steps ahead of the to location of the last move in the direction ccw is equal to Pawn of the next player, remove pieces at the to location of the last move and remove pieces at  the Cell 1 steps ahead of the to location of the last move in the direction ccw.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the rotational direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Rook for player one at sites [4,5].
                Place a Rook for player two at sites [13,12].
                Place a Knight for player one at sites [20,21].
                Place a Knight for player two at sites [29,28].
                Place a Elephant for player one at sites [36,37].
                Place a Elephant for player two at sites [45,44].
                Place a Pawn for player one at sites [3,19,35,51].
                Place a Pawn for player one at sites [54,38,22,6].
                Place a Pawn for player two at sites [11,27,43,59].
                Place a Pawn for player two at sites [14,30,46,62]..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If KingnoCross of the moving player is in is in sites [64,65,66,67], it's a draw.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 7) (Reconstructed)" (id "4082"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 8) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 16x4 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, Queens, Elephants, Knights, Rooks and Pawns. The following pieces are shared by all players: Dies with 6 faces valued [1, 2, 3, 4, 5, 6].
                Rules for Pieces:
                Elephants hop diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into Queen.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Rook for player one at sites [4,5].
                Place a Rook for player two at sites [13,12].
                Place a Knight for player one at sites [20,21].
                Place a Knight for player two at sites [29,28].
                Place a Elephant for player one at sites [36,37].
                Place a Elephant for player two at sites [45,44].
                Place a Pawn for player one at sites [3,19,35,51].
                Place a Pawn for player one at sites [54,38,22,6].
                Place a Pawn for player two at sites [11,27,43,59].
                Place a Pawn for player two at sites [14,30,46,62]..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If KingnoCross of the moving player is in is in sites [64,65,66,67], it's a draw.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 8) (Reconstructed)" (id "4083"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 9) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 10x9 rectangle board with square tiling.
                Regions:
                PalaceP1: contains the sites [3, 4, 5, 12, 13, 14, 21, 22, 23]
                PalaceP2: contains the sites [66, 67, 68, 75, 76, 77, 84, 85, 86]
                Home: the bottom sites of the board expanded by 4 steps for P1
                Home: the top sites of the board expanded by 4 steps for P2 
                All players play with Jiangs, Shis, Xiangs, Mas, Jus, Paos and Zus.
                Rules for Pieces:
                Jiangs remove pieces at to then step orthogonal.
                Jus slide from the location of the piece in the orthogonal direction through [between] is in the set of empty vertexs.
                Mas if not is a friend, from vertex in the location of the piece to vertex to moveRule: true captureRule: there is an enemy Player at to captureEffect: remove pieces at to, for all sites that can be reached from vertex to in the direction forward-right or forward-left, for all sites that can be reached from vertex the location of the piece in the direction orthogonal.
                Paos slide from the location of the piece in the orthogonal direction through [between] is in the set of empty vertexs or hop orthogonal.
                Shis remove pieces at to then step diagonal.
                Xiangs slide from the location of the piece in the diagonal direction through between is in Home or Home and empty.
                Zus remove pieces at to then step if the location of the piece is in Home or Home then forward else forward, rightward or leftward.
                Players take turns moving.
                Setup:
                Place a Jiang for player one on site E1.
                Place a Shi for player one on sites: D1 and F1.
                Place a Xiang for player one on sites: C1 and G1.
                Place a Ma for player one on sites: B1 and H1.
                Place a Ju for player one on sites: A1 and I1.
                Place a Pao for player one on sites: B3 and H3.
                Place a Zu for player one on sites: A4, C4, E4, G4 and I4.
                Place a Jiang for player two on site E10.
                Place a Shi for player two on sites: D10 and F10.
                Place a Xiang for player two on sites: C10 and G10.
                Place a Ma for player two on sites: B10 and H10.
                Place a Ju for player two on sites: A10 and I10.
                Place a Pao for player two on sites: B8 and H8.
                Place a Zu for player two on sites: A7, C7, E7, G7 and I7..
                Rules: 
                Move one of your pieces.
                Aim: 
                If Jiang of the next player is threatened and not can move move one of your pieces, the moving player wins If the next player cannot move, the moving player wins.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 9) (Reconstructed)" (id "4084"))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 10) (Reconstructed)" (rules "The game Two-Player Chaturanga (al-Biruni) is played by two players on a 16x4 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, Queens, Elephants, Knights, Rooks and Pawns. The following pieces are shared by all players: Dies with 6 faces valued [1, 2, 3, 4, 5, 6].
                Rules for Pieces:
                Elephants hop diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into Queen.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at the union of each cell of the 4 row and each cell of the 5 row.
                Place a Pawn for player two at the union of each cell of the 10 row and each cell of the 11 row.
                Place a Elephant for player one at the cells with coordinates [A1, D1].
                Place a Knight for player one at the cells with coordinates [B2, C2].
                Place a Rook for player one at the cells with coordinates [A2, D2].
                Place a KingnoCross for player one on site B1.
                Place a Queen for player one on site C1.
                Place a Elephant for player two at the cells with coordinates [A16, D16].
                Place a Knight for player two at the cells with coordinates [B15, C15].
                Place a Rook for player two at the cells with coordinates [A15, D15].
                Place a KingnoCross for player two on site C16.
                Place a Queen for player two on site B16..
                Rules: 
                Roll the dice and afterwards if KingnoCross of the next player is threatened, pass then trigger NextCanNotEscape for Player the next mover, else if the number of pips owned by Player Shared is equal to 6, move one of your pieces, else if the number of pips owned by Player Shared is equal to 5, move one of your pieces, else if the number of pips owned by Player Shared is equal to 4, move one of your pieces, else if the number of pips owned by Player Shared is equal to 3, move one of your pieces, else if the number of pips owned by Player Shared is equal to 2, move one of your pieces, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the next player is CanNotEscape, the moving player wins If not can move move one of your pieces, the moving player wins.
                
        "))
        (useFor "Ruleset/Two-Player Chaturanga (al-Biruni) (Ludii 10) (Reconstructed)" (id "4085"))
        (source "Murray 1913: 57-58.")
        (version "1.3.14")
        (classification "board/war/replacement/checkmate/chaturanga/reconstruction/done")
        (credit "Eric Piette")
        (origin "This game was played in Pakistan, from around 973 to 1043.")
        }
    )
    
    (recon {
        (concept "StepDecision" True)
        (concept "Checkmate" True)
    })
    
)

